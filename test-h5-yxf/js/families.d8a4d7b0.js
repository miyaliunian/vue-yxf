"use strict";(self["webpackChunkxinyf"]=self["webpackChunkxinyf"]||[]).push([[53],{6911:function(){},18:function(){},1257:function(){},4865:function(e,l,a){a.d(l,{Z:function(){return n}});var o=a(678);function n(){let e;e||(e=(0,o.yj)());const{creditUserId:l}=e.params;return{creditUserId:l}}},6752:function(e,l,a){a.r(l),a.d(l,{default:function(){return ae}});var o=a(9936),n=a(3396);function i(e,l,a,i,t,r){const d=(0,n.up)("blank-palce"),s=(0,n.up)("family-memeber"),c=(0,n.up)("family-add"),m=o.Z;return(0,n.wg)(),(0,n.j4)(m,null,{default:(0,n.w5)((()=>[0===e.families.length&&e.placeHolder?((0,n.wg)(),(0,n.j4)(d,{key:0,onShowForm:l[0]||(l[0]=l=>e.show=!0)})):((0,n.wg)(),(0,n.j4)(s,{key:1,families:e.families,onShowFamilyForm:l[1]||(l[1]=l=>e.show=!0)},null,8,["families"])),(0,n.Wm)(c,{showPop:e.show,onClosePop:l[2]||(l[2]=l=>e.show=!1)},null,8,["showPop"])])),_:1})}var t=a(4870),r=a(65),d=a(7139),s="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAYAAABXAvmHAAAACXBIWXMAABYlAAAWJQFJUiTwAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAABuSURBVHgB7djRCYAwDADRRBzGFZ3AFR1GsBu0FALXwr3ffh0UQpJR7Lq/v/f+PmdGoSM2ZwDNAJoBNANoBtAMoBlAM4BmAC1HO+zq/EI0A2gG0PafA1HM2+gkA2gG0AygGUAzgGYAzQCaATQDaA0Ifgr68gzjzgAAAABJRU5ErkJggg==";const c=e=>((0,n.dD)("data-v-4759af7a"),e=e(),(0,n.Cn)(),e),m={class:"memberLimit"},u=(0,n.Uk)(" 人 "),p={class:"content_wrapper"},f=["onClick"],h=c((()=>(0,n._)("img",{style:{"margin-right":"10px"},src:s,alt:""},null,-1))),b=c((()=>(0,n._)("p",null,"添加新成员",-1))),g=[h,b];function A(e,l,a,o,i,t){return(0,n.wg)(),(0,n.iD)(n.HY,null,[(0,n._)("header",m,[(0,n._)("p",null,[(0,n.Uk)(" 限添加 "+(0,d.zw)(e.familyLimit)+" 人,您还可以添加 ",1),(0,n._)("span",null,(0,d.zw)(e.familySize),1),u])]),(0,n._)("ul",p,[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(e.families,(l=>((0,n.wg)(),(0,n.iD)("li",{key:l.id},[(0,n._)("header",null,[(0,n._)("p",null,(0,d.zw)(l.name),1),(0,n._)("span",{onClick:a=>e.removeFamily(l.id)},"解绑",8,f)]),(0,n._)("section",null,[(0,n._)("p",null,(0,d.zw)(l.idno),1),(0,n._)("span",null,(0,d.zw)(l.mobileNo),1)])])))),128)),(0,n._)("footer",{onClick:l[0]||(l[0]=l=>e.$emit("show-family-form")),style:{display:"flex","justify-content":"center","align-items":"center"}},g)])],64)}a(8857);var y=a(1514),v=a(4865),k=(0,n.aZ)({name:"FamilyMemeber",props:{showForm:Boolean,families:{type:Array,required:!0}},emits:["show-family-form"],components:{[y.Z.name]:y.Z},setup(){const e=(0,r.oR)(),{creditUserId:l}=(0,v.Z)(),a=a=>{y.Z.confirm({title:"确定解绑?",message:"解约后，您绑定的亲情账号也不能，使用医信付支付!",confirmButtonColor:"#2879fc"}).then((()=>{console.log("解绑操作确认");let o={data:{creditUserId:l,familyUserId:a}};e.dispatch("familyModule/removeFamilies",o)})).catch((()=>{console.log("解绑操作取消")}))};return{removeFamily:a,familyLimit:(0,n.Fl)((()=>e.state.familyModule.familyLimit)),familySize:(0,n.Fl)((()=>e.state.familyModule.familSize))}}}),w=a(89);const F=(0,w.Z)(k,[["render",A],["__scopeId","data-v-4759af7a"]]);var _=F,Z=a.p+"img/placeholder.677b634c.png";const V=e=>((0,n.dD)("data-v-95ee663a"),e=e(),(0,n.Cn)(),e),x={class:"blackPlace_wrapper"},C=V((()=>(0,n._)("article",{class:"content_wrapper"},[(0,n._)("img",{src:Z,alt:"",style:{width:"auto",height:"auto","max-width":"100%","max-height":"100%",background:"#fff","border-radius":"10px"}})],-1))),U=V((()=>(0,n._)("p",null,"您还没绑定亲情账号哦！",-1))),B=V((()=>(0,n._)("span",null,"您可为家中老人、儿童绑定亲情账号，在看病就医 时共享您的信用额度，医疗费用由您代缴代还。",-1)));function z(e,l,a,o,i,t){return(0,n.wg)(),(0,n.iD)("section",x,[C,U,B,(0,n._)("p",{onClick:l[0]||(l[0]=(...l)=>e.addFamilie&&e.addFamilie(...l))},"去绑定")])}var S=(0,n.aZ)({name:"BlankPalce",setup(e,l){const a=()=>l.emit("showForm");return{addFamilie:a}}});const I=(0,w.Z)(S,[["render",z],["__scopeId","data-v-95ee663a"]]);var W=I,G=a(6305),P=(a(6316),a(6944)),D=(a(1958),a(9545)),M=(a(2332),a(5331)),R=(a(9041),a(3813)),H=(a(2099),a(6035)),X=(a(1557),a(3548)),Y=(a(368),a(6742),a(3094),a(5342)),j=(a(7461),a(7648));const q=e=>((0,n.dD)("data-v-1344207c"),e=e(),(0,n.Cn)(),e),N={class:"form_wrapper"},Q=q((()=>(0,n._)("span",{style:{color:"#909399","font-size":"12px"}},[(0,n.Uk)("我已阅读并同意 "),(0,n._)("span",{style:{color:"#2879fc"}},"《亲情付授权XXXXXX协议》")],-1))),J={style:{margin:"16px"}},O=(0,n.Uk)(" 提交 "),T=q((()=>(0,n._)("div",{style:{position:"fixed",width:"calc(100% - 40px)",bottom:"51px",padding:"0 20px"}},[(0,n._)("img",{src:j,alt:"",style:{width:"auto",height:"auto","max-width":"100%","max-height":"100%"}})],-1)));function E(e,l,a,o,i,t){const r=Y.b,d=X.g,s=H.r,c=R.X,m=M.T,u=D.z,p=P.l,f=G.G;return(0,n.wg)(),(0,n.j4)(f,{show:e.showPop,"onUpdate:show":l[6]||(l[6]=l=>e.showPop=l)},{default:(0,n.w5)((()=>[(0,n._)("section",N,[(0,n._)("p",{style:{"text-align":"end",padding:"0 20px 20px 0"},onClick:l[0]||(l[0]=(...l)=>e.closeForm&&e.closeForm(...l))}," 关闭 "),(0,n.Wm)(p,{onSubmit:e.addFamily,ref:"RefForm"},{default:(0,n.w5)((()=>[(0,n.Wm)(m,{inset:""},{default:(0,n.w5)((()=>[(0,n.Wm)(r,{title:"请填写被授权人基本信息："}),(0,n.Wm)(d,{clearable:"",required:"",modelValue:e.familyForm.name,"onUpdate:modelValue":l[1]||(l[1]=l=>e.familyForm.name=l),name:"name",label:"姓名",placeholder:"请填写真实姓名",rules:[{required:!0,message:"请填写用户名"}]},null,8,["modelValue"]),(0,n.Wm)(d,{clearable:"",required:"",modelValue:e.familyForm.idno,"onUpdate:modelValue":l[2]||(l[2]=l=>e.familyForm.idno=l),name:"idno",label:"身份证号",placeholder:"18位身份证号",rules:[{required:!0,message:"请填写身份证号"},{message:"身份证号格式不正确",pattern:e.patternIC}]},null,8,["modelValue","rules"]),(0,n.Wm)(d,{clearable:"",required:"",modelValue:e.familyForm.mobileNo,"onUpdate:modelValue":l[3]||(l[3]=l=>e.familyForm.mobileNo=l),name:"mobileNo",label:"手机号码",placeholder:"11位手机号码",rules:[{required:!0,message:"请填写手机号码"},{message:"手机号码格式不正确",pattern:e.patternTEl}]},null,8,["modelValue","rules"]),(0,n.Wm)(r,{title:"是否优先使用信用付"},{value:(0,n.w5)((()=>[(0,n.Wm)(s,{size:"normal",modelValue:e.firstYxf,"onUpdate:modelValue":l[4]||(l[4]=l=>e.firstYxf=l)},null,8,["modelValue"])])),_:1}),(0,n.Wm)(d,{name:"checked"},{input:(0,n.w5)((()=>[(0,n.Wm)(c,{modelValue:e.checked,"onUpdate:modelValue":l[5]||(l[5]=l=>e.checked=l),shape:"square"},{default:(0,n.w5)((()=>[Q])),_:1},8,["modelValue"])])),_:1})])),_:1}),(0,n._)("div",J,[(0,n.Wm)(u,{disabled:!e.checked,round:"",block:"",type:"primary","native-type":"submit"},{default:(0,n.w5)((()=>[O])),_:1},8,["disabled"])])])),_:1},8,["onSubmit"]),T])])),_:1},8,["show"])}a(7673),a(6797),a(3793),a(7946),a(3048),a(658),a(3418),a(1508);var L=(0,n.aZ)({name:"FamilyAdd",props:{showPop:{type:Boolean,required:!0}},components:{[G.Z.name]:G.Z,[P.Z.name]:P.Z,[X.Z.name]:X.Z,[M.Z.name]:M.Z,[D.Z.name]:D.Z,[Y.Z.name]:Y.Z,[R.Z.name]:R.Z,[H.Z.name]:H.Z},setup(e,{emit:l}){const a=(0,t.iH)(),o=/^(?:(?:\+|00)86)?1[3-9]\d{9}$/,n=/^[1-9]\d{5}(?:18|19|20)\d{2}(?:0[1-9]|10|11|12)(?:0[1-9]|[1-2]\d|30|31)\d{3}[\dXx]$/,i=(0,r.oR)(),d=(0,t.iH)(!1),s=(0,t.iH)(!1),{creditUserId:c}=(0,v.Z)(),m=(0,t.qj)({creditUserId:"",name:"",idno:"",certType:"1",mobileNo:"",firstYxf:"0",checked:!1}),u=()=>{var e;d.value=!1,Object.keys(m).forEach((e=>m[e]="")),null===(e=a.value)||void 0===e||e.resetValidation(),l("closePop")},p=e=>{e.certType="1",e.creditUserId=c,e.firstYxf=s.value?"1":"0",delete e.checked,i.dispatch("familyModule/addFamilie",{data:{...e}}).then((()=>u()))},f=()=>u();return{familyForm:m,addFamily:p,checked:d,patternTEl:o,patternIC:n,closeForm:f,RefForm:a,firstYxf:s}}});const $=(0,w.Z)(L,[["render",E],["__scopeId","data-v-1344207c"]]);var K=$,ee=(0,n.aZ)({components:{BlankPalce:W,FamilyMemeber:_,FamilyAdd:K,CustomizeWrapper:o.Z},setup(){const e=(0,t.iH)(!1),l=(0,t.qj)({creditUserId:""}),a=(0,r.oR)();return(0,n.bv)((()=>{const{creditUserId:e}=(0,v.Z)();l.creditUserId=e,a.dispatch("familyModule/fetchFamilies",{data:{...l}})})),{families:(0,n.Fl)((()=>a.state.familyModule.families)),placeHolder:(0,n.Fl)((()=>a.state.familyModule.placeHolder)),show:e}}});const le=(0,w.Z)(ee,[["render",i],["__scopeId","data-v-a8a78264"]]);var ae=le},2332:function(e,l,a){a(1958),a(368),a(6742),a(2939)},7946:function(e,l,a){a(5623),a(2462),a(3671),a(6121),a(2195)},143:function(e,l,a){a.d(l,{Q:function(){return m},Z:function(){return u}});var o=a(3396),n=a(610),i=a(5323),t=a(253),r=a(3444);const[d,s]=(0,n["do"])("checkbox-group"),c={max:i.Or,disabled:Boolean,iconSize:i.Or,direction:String,modelValue:(0,i.Ce)(),checkedColor:String},m=Symbol(d);var u=(0,o.aZ)({name:d,props:c,emits:["change","update:modelValue"],setup(e,{emit:l,slots:a}){const{children:n,linkChildren:i}=(0,t.$E)(m),d=e=>l("update:modelValue",e),c=(e={})=>{"boolean"===typeof e&&(e={checked:e});const{checked:l,skipDisabled:a}=e,o=n.filter((e=>!!e.props.bindGroup&&(e.props.disabled&&a?e.checked.value:null!=l?l:!e.checked.value))),i=o.map((e=>e.name));d(i)};return(0,o.YP)((()=>e.modelValue),(e=>l("change",e))),(0,r.F)({toggleAll:c}),(0,t.aM)((()=>e.modelValue)),i({props:e,updateValue:d}),()=>{var l;return(0,o.Wm)("div",{class:s([e.direction])},[null==(l=a.default)?void 0:l.call(a)])}}})},592:function(e,l,a){a.d(l,{Z:function(){return c},m:function(){return s}});var o=a(3396),n=a(4870),i=a(5323),t=a(2220),r=a(8332),d=a(2598);const s={name:i.Vg,shape:(0,i.SQ)("round"),disabled:Boolean,iconSize:i.Or,modelValue:i.Vg,checkedColor:String,labelPosition:String,labelDisabled:Boolean};var c=(0,o.aZ)({props:(0,t.l7)({},s,{bem:(0,i.ir)(Function),role:String,parent:Object,checked:Boolean,bindGroup:i.J5}),emits:["click","toggle"],setup(e,{emit:l,slots:a}){const i=(0,n.iH)(),t=l=>{if(e.parent&&e.bindGroup)return e.parent.props[l]},s=(0,o.Fl)((()=>t("disabled")||e.disabled)),c=(0,o.Fl)((()=>t("direction"))),m=(0,o.Fl)((()=>{const l=e.checkedColor||t("checkedColor");if(l&&e.checked&&!s.value)return{borderColor:l,backgroundColor:l}})),u=a=>{const{target:o}=a,n=i.value,t=n===o||(null==n?void 0:n.contains(o));s.value||!t&&e.labelDisabled||l("toggle"),l("click",a)},p=()=>{const{bem:l,shape:n,checked:c}=e,u=e.iconSize||t("iconSize");return(0,o.Wm)("div",{ref:i,class:l("icon",[n,{disabled:s.value,checked:c}]),style:{fontSize:(0,r.Nn)(u)}},[a.icon?a.icon({checked:c,disabled:s.value}):(0,o.Wm)(d.J,{name:"success",style:m.value},null)])},f=()=>{if(a.default)return(0,o.Wm)("span",{class:e.bem("label",[e.labelPosition,{disabled:s.value}])},[a.default()])};return()=>{const l="left"===e.labelPosition?[f(),p()]:[p(),f()];return(0,o.Wm)("div",{role:e.role,class:e.bem([{disabled:s.value,"label-disabled":e.labelDisabled},c.value]),tabindex:s.value?void 0:0,"aria-checked":e.checked,onClick:u},[l])}}})},3813:function(e,l,a){a.d(l,{X:function(){return b},Z:function(){return g}});var o=a(1404),n=(a(6699),a(3396)),i=a(610),t=a(2220),r=a(5323),d=a(143),s=a(253),c=a(3444),m=a(592);const[u,p]=(0,i["do"])("checkbox"),f=(0,t.l7)({},m.m,{bindGroup:r.J5});var h=(0,n.aZ)({name:u,props:f,emits:["change","update:modelValue"],setup(e,{emit:l,slots:a}){const{parent:o}=(0,s.NB)(d.Q),i=l=>{const{name:a}=e,{max:n,modelValue:i}=o.props,t=i.slice();if(l){const l=n&&t.length>=n;l||t.includes(a)||(t.push(a),e.bindGroup&&o.updateValue(t))}else{const l=t.indexOf(a);-1!==l&&(t.splice(l,1),e.bindGroup&&o.updateValue(t))}},r=(0,n.Fl)((()=>o&&e.bindGroup?-1!==o.props.modelValue.indexOf(e.name):!!e.modelValue)),u=(a=!r.value)=>{o&&e.bindGroup?i(a):l("update:modelValue",a)};return(0,n.YP)((()=>e.modelValue),(e=>l("change",e))),(0,c.F)({toggle:u,props:e,checked:r}),(0,s.aM)((()=>e.modelValue)),()=>(0,n.Wm)(m.Z,(0,n.dG)({bem:p,role:"checkbox",parent:o,checked:r.value,onToggle:u},e),(0,t.ei)(a,["default","icon"]))}});const b=(0,o.n)(h);var g=b},2099:function(e,l,a){a(1958),a(368),a(6742),a(6911)},6797:function(e,l,a){a(5623),a(2462),a(3671),a(18),a(1257)},6316:function(e,l,a){a(1958),a(368),a(6742)},1508:function(e,l,a){a(5623),a(2462),a(3671),a(4966),a(3979)}}]);
//# sourceMappingURL=families.d8a4d7b0.js.map